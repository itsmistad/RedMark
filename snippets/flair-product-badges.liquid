{% comment %}
************************************************************************
* NOTE: This file is generated by the Flair app and should not be modified.
*
* Any changes made to this file will be overwritten the next time you change
* your Flair badges in the app settings.
*
* Optional parameters:
*
* flair_badge_max   - the maximum number of badges to show; defaults to 1
* flair_css_class   - optional additional css classes to add to .flair-badge-wrapper
                      (see below for available classes)
* flair_css         - optional additional css to add to the badge wrapper
*
* Example multiple badges, display inline:
*   {% include 'flair-product-badges', with flair_badge_max: 2, flair_css_class: 'flair-inline flair-space-tb-md' %}
*
* Flair: https://apps.shopify.com/flair
*
* Copyright Brainy Atom LLC, All Rights Reserved.
************************************************************************
{% endcomment %}
{% if flair_css == blank %}
  {% if flair_css_class == blank %}
    {% assign flair_css_class = "flair-space-tb-md" %}
  {% endif %}
{% endif %}
{% if flair_global_init == blank %}
  <style>
    .flair-badge-wrapper.flair-inline { display: inline-block; }
    .flair-badge-wrapper.flair-center { text-align: center; } /* will not work with .flair-inline */
    .flair-badge-wrapper.flair-space-sm { margin: 5px; }
    .flair-badge-wrapper.flair-space-md { margin: 10px; }
    .flair-badge-wrapper.flair-space-lg { margin: 20px; }
    .flair-badge-wrapper.flair-space-tb-sm { margin-top: 5px; margin-bottom: 5px; }
    .flair-badge-wrapper.flair-space-tb-md { margin-top: 10px; margin-bottom: 10px; }
    .flair-badge-wrapper.flair-space-tb-lg { margin-top: 20px; margin-bottom: 20px; }
    .flair-badge-wrapper.flair-space-lr-sm { margin-left: 10px; margin-right: 10px; }
    .flair-badge-wrapper.flair-space-lr-md { margin-left: 10px; margin-right: 10px; }
    .flair-badge-wrapper.flair-space-lr-lg { margin-left: 20px; margin-right: 20px; }
    .flair-badge-wrapper.flair-space-t-sm { margin-top: 5px; }
    .flair-badge-wrapper.flair-space-t-md { margin-top: 10px; }
    .flair-badge-wrapper.flair-space-t-lg { margin-top: 20px; }
    .flair-badge-wrapper.flair-space-b-sm { margin-bottom: 5px; }
    .flair-badge-wrapper.flair-space-b-md { margin-bottom: 10px; }
    .flair-badge-wrapper.flair-space-b-lg { margin-bottom: 20px; }
    .flair-badge-wrapper.flair-space-l-sm { margin-left: 5px; }
    .flair-badge-wrapper.flair-space-l-md { margin-left: 10px; }
    .flair-badge-wrapper.flair-space-l-lg { margin-left: 20px; }
    .flair-badge-wrapper.flair-space-r-sm { margin-right: 5px; }
    .flair-badge-wrapper.flair-space-r-md { margin-right: 10px; }
    .flair-badge-wrapper.flair-space-r-lg { margin-right: 20px; }

    @media only screen and (min-width:480px){
      .flair-badge-wrapper-full { display: inherit; } .flair-badge-wrapper-mobile { display: none !important; }
    }
    @media only screen and (max-width:480px) {
      .flair-badge-wrapper-full { display: none !important; } .flair-badge-wrapper-mobile { display: inherit; }
    }
  </style>
{% endif %}
{% assign flair_global_init = true %}

{% assign flair_badge_max = flair_badge_max | default: 1 %}
{% assign flair_badge_count = 0 %}

{% assign flair_age_seconds = product.created_at | date: "%s" %}
{% assign flair_age_seconds = 'now' | date: '%s' | minus: flair_age_seconds %}

{% assign flair_collection_ids = product.collections | map: "id" %}
{% assign flair_sale_amount_min = 0 %}
{% assign flair_sale_amount_max = 0 %}
{% assign flair_sale_percent_min = 0 %}
{% assign flair_sale_percent_max = 0 %}
{% assign flair_inventory_total = 0 %}
{% assign flair_inventory_can_sell_out = true %}
{% assign flair_tag_string = product.tags | join: "|" | prepend: "|" | append: "|" | downcase %}
{% for v in product.variants %}
  {% if v.inventory_management %}
    {% if v.inventory_policy == 'continue' %}
      {% assign flair_inventory_can_sell_out = false %}
    {% endif %}
  {% else %}
    {% assign flair_inventory_can_sell_out = false %}
  {% endif %}

  {% if v.inventory_quantity > 0 %}
    {% assign flair_inventory_total = flair_inventory_total | plus: v.inventory_quantity %}
  {% endif %}

  {% if v.price and v.compare_at_price %}
    {% assign flair_sale_amount = v.compare_at_price | minus: v.price %}
    {% if flair_sale_amount > 0 %}
      {% assign flair_sale_percent = flair_sale_amount | times: 100.0 | divided_by: v.compare_at_price %}
      {% if flair_sale_amount_min == 0 or flair_sale_amount < flair_sale_amount_min %}
        {% assign flair_sale_amount_min = flair_sale_amount %}
      {% endif %}
      {% if flair_sale_amount_max == 0 or flair_sale_amount > flair_sale_amount_max %}
        {% assign flair_sale_amount_max = flair_sale_amount %}
      {% endif %}
      {% if flair_sale_percent_min == 0 or flair_sale_percent < flair_sale_percent_min %}
        {% assign flair_sale_percent_min = flair_sale_percent | round: 2 %}
      {% endif %}
      {% if flair_sale_percent_max == 0 or flair_sale_percent > flair_sale_percent_max %}
        {% assign flair_sale_percent_max = flair_sale_percent | round: 2 %}
      {% endif %}
    {% endif %}
  {% endif %}
{% endfor %}

{% if flair_badge_count < flair_badge_max %}
  {% assign flair_local_rule_apply_to_all = true %}
  {% assign flair_local_rule_all_results = "" %}

    {% assign flair_local_tags = "bestseller" | downcase | split: "," %}
    {% for tag in flair_local_tags %}
      {% assign flair_local_tag = tag | prepend: "|" | append: "|" %}
      {% if flair_tag_string contains flair_local_tag %}
        {% assign flair_local_rule_result = true %}
        {% break %}
      {% endif %}
    {% endfor %}

    {% if flair_local_rule_result %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "1" %}
    {% else %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "0" %}
    {% endif %}
    {% assign flair_local_rule_result = false %}

  {% assign flair_local_show_badge = false %}
  {% if flair_local_rule_apply_to_all %}
    {% unless flair_local_rule_all_results contains "0" %}
      {% assign flair_local_show_badge = true %}
    {% endunless %}
  {% elsif flair_local_rule_all_results contains "1" %}
      {% assign flair_local_show_badge = true %}
  {% endif %}

  {% if flair_local_show_badge %}
  <div class="flair-badge-wrapper flair-badge-wrapper-full {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #ffa232;font-size: 14px;line-height: 22px;position: relative;height: 22px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 11px;padding-right: 10px;margin-right: 11px"><span style="position: absolute;top: 0;left: -11px;border-top: 11px solid #ffa232;border-bottom: 11px solid #ffa232;border-left: 11px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">Best Seller</div><span style="position: absolute;top: 0;right: -11px;border-top: 11px solid transparent;border-bottom: 11px solid transparent;border-left: 11px solid #ffa232"></span></div>
  </div>
  <div class="flair-badge-wrapper flair-badge-wrapper-mobile {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #ffa232;font-size: 12px;line-height: 20px;position: relative;height: 20px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 10px;padding-right: 10px;margin-right: 10px"><span style="position: absolute;top: 0;left: -10px;border-top: 10px solid #ffa232;border-bottom: 10px solid #ffa232;border-left: 10px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">Best Seller</div><span style="position: absolute;top: 0;right: -10px;border-top: 10px solid transparent;border-bottom: 10px solid transparent;border-left: 10px solid #ffa232"></span></div>
  </div>

    {% assign flair_badge_count = flair_badge_count | plus: 1 %}
  {% endif %}
{% endif %}
{% if flair_badge_count < flair_badge_max %}
  {% assign flair_local_rule_apply_to_all = true %}
  {% assign flair_local_rule_all_results = "" %}

    {% assign flair_local_tags = "limitedtime" | downcase | split: "," %}
    {% for tag in flair_local_tags %}
      {% assign flair_local_tag = tag | prepend: "|" | append: "|" %}
      {% if flair_tag_string contains flair_local_tag %}
        {% assign flair_local_rule_result = true %}
        {% break %}
      {% endif %}
    {% endfor %}

    {% if flair_local_rule_result %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "1" %}
    {% else %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "0" %}
    {% endif %}
    {% assign flair_local_rule_result = false %}

  {% assign flair_local_show_badge = false %}
  {% if flair_local_rule_apply_to_all %}
    {% unless flair_local_rule_all_results contains "0" %}
      {% assign flair_local_show_badge = true %}
    {% endunless %}
  {% elsif flair_local_rule_all_results contains "1" %}
      {% assign flair_local_show_badge = true %}
  {% endif %}

  {% if flair_local_show_badge %}
  <div class="flair-badge-wrapper flair-badge-wrapper-full {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #ffd300;font-size: 14px;line-height: 22px;position: relative;height: 22px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 11px;padding-right: 10px;margin-right: 11px"><span style="position: absolute;top: 0;left: -11px;border-top: 11px solid #ffd300;border-bottom: 11px solid #ffd300;border-left: 11px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">Limited-Time</div><span style="position: absolute;top: 0;right: -11px;border-top: 11px solid transparent;border-bottom: 11px solid transparent;border-left: 11px solid #ffd300"></span></div>
  </div>
  <div class="flair-badge-wrapper flair-badge-wrapper-mobile {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #ffd300;font-size: 12px;line-height: 20px;position: relative;height: 20px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 10px;padding-right: 10px;margin-right: 10px"><span style="position: absolute;top: 0;left: -10px;border-top: 10px solid #ffd300;border-bottom: 10px solid #ffd300;border-left: 10px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">Limited-Time</div><span style="position: absolute;top: 0;right: -10px;border-top: 10px solid transparent;border-bottom: 10px solid transparent;border-left: 10px solid #ffd300"></span></div>
  </div>

    {% assign flair_badge_count = flair_badge_count | plus: 1 %}
  {% endif %}
{% endif %}
{% if flair_badge_count < flair_badge_max %}
  {% assign flair_local_rule_apply_to_all = true %}
  {% assign flair_local_rule_all_results = "" %}

    {% assign flair_local_tags = "mostrecommended" | downcase | split: "," %}
    {% for tag in flair_local_tags %}
      {% assign flair_local_tag = tag | prepend: "|" | append: "|" %}
      {% if flair_tag_string contains flair_local_tag %}
        {% assign flair_local_rule_result = true %}
        {% break %}
      {% endif %}
    {% endfor %}

    {% if flair_local_rule_result %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "1" %}
    {% else %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "0" %}
    {% endif %}
    {% assign flair_local_rule_result = false %}

  {% assign flair_local_show_badge = false %}
  {% if flair_local_rule_apply_to_all %}
    {% unless flair_local_rule_all_results contains "0" %}
      {% assign flair_local_show_badge = true %}
    {% endunless %}
  {% elsif flair_local_rule_all_results contains "1" %}
      {% assign flair_local_show_badge = true %}
  {% endif %}

  {% if flair_local_show_badge %}
  <div class="flair-badge-wrapper flair-badge-wrapper-full {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #ff3b3b;font-size: 14px;line-height: 22px;position: relative;height: 22px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 11px;padding-right: 10px;margin-right: 11px"><span style="position: absolute;top: 0;left: -11px;border-top: 11px solid #ff3b3b;border-bottom: 11px solid #ff3b3b;border-left: 11px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">Most Recommended</div><span style="position: absolute;top: 0;right: -11px;border-top: 11px solid transparent;border-bottom: 11px solid transparent;border-left: 11px solid #ff3b3b"></span></div>
  </div>
  <div class="flair-badge-wrapper flair-badge-wrapper-mobile {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #ff3b3b;font-size: 12px;line-height: 20px;position: relative;height: 20px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 10px;padding-right: 10px;margin-right: 10px"><span style="position: absolute;top: 0;left: -10px;border-top: 10px solid #ff3b3b;border-bottom: 10px solid #ff3b3b;border-left: 10px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">Most Recommended</div><span style="position: absolute;top: 0;right: -10px;border-top: 10px solid transparent;border-bottom: 10px solid transparent;border-left: 10px solid #ff3b3b"></span></div>
  </div>

    {% assign flair_badge_count = flair_badge_count | plus: 1 %}
  {% endif %}
{% endif %}
{% if flair_badge_count < flair_badge_max %}
  {% assign flair_local_rule_apply_to_all = true %}
  {% assign flair_local_rule_all_results = "" %}

    {% if flair_age_seconds > 0 and flair_age_seconds <= 604800 %}
      {% assign flair_local_rule_result = true %}
    {% endif %}

    {% if flair_local_rule_result %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "1" %}
    {% else %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "0" %}
    {% endif %}
    {% assign flair_local_rule_result = false %}

  {% assign flair_local_show_badge = false %}
  {% if flair_local_rule_apply_to_all %}
    {% unless flair_local_rule_all_results contains "0" %}
      {% assign flair_local_show_badge = true %}
    {% endunless %}
  {% elsif flair_local_rule_all_results contains "1" %}
      {% assign flair_local_show_badge = true %}
  {% endif %}

  {% if flair_local_show_badge %}
  <div class="flair-badge-wrapper flair-badge-wrapper-full {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #5a84d7;font-size: 14px;line-height: 22px;position: relative;height: 22px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 11px;padding-right: 10px;margin-right: 11px"><span style="position: absolute;top: 0;left: -11px;border-top: 11px solid #5a84d7;border-bottom: 11px solid #5a84d7;border-left: 11px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">New Arrival</div><span style="position: absolute;top: 0;right: -11px;border-top: 11px solid transparent;border-bottom: 11px solid transparent;border-left: 11px solid #5a84d7"></span></div>
  </div>
  <div class="flair-badge-wrapper flair-badge-wrapper-mobile {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #5a84d7;font-size: 12px;line-height: 20px;position: relative;height: 20px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 10px;padding-right: 10px;margin-right: 10px"><span style="position: absolute;top: 0;left: -10px;border-top: 10px solid #5a84d7;border-bottom: 10px solid #5a84d7;border-left: 10px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">New Arrival</div><span style="position: absolute;top: 0;right: -10px;border-top: 10px solid transparent;border-bottom: 10px solid transparent;border-left: 10px solid #5a84d7"></span></div>
  </div>

    {% assign flair_badge_count = flair_badge_count | plus: 1 %}
  {% endif %}
{% endif %}
{% if flair_badge_count < flair_badge_max %}
  {% assign flair_local_rule_apply_to_all = true %}
  {% assign flair_local_rule_all_results = "" %}

    {% if flair_sale_percent_max >= 10 %}
      {% assign flair_local_rule_result = true %}
    {% endif %}

    {% if flair_local_rule_result %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "1" %}
    {% else %}
      {% assign flair_local_rule_all_results = flair_local_rule_all_results | append: "0" %}
    {% endif %}
    {% assign flair_local_rule_result = false %}

  {% assign flair_local_show_badge = false %}
  {% if flair_local_rule_apply_to_all %}
    {% unless flair_local_rule_all_results contains "0" %}
      {% assign flair_local_show_badge = true %}
    {% endunless %}
  {% elsif flair_local_rule_all_results contains "1" %}
      {% assign flair_local_show_badge = true %}
  {% endif %}

  {% if flair_local_show_badge %}
  <div class="flair-badge-wrapper flair-badge-wrapper-full {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #68d391;font-size: 14px;line-height: 22px;position: relative;height: 22px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 11px;padding-right: 10px;margin-right: 11px"><span style="position: absolute;top: 0;left: -11px;border-top: 11px solid #68d391;border-bottom: 11px solid #68d391;border-left: 11px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">Save {{ flair_sale_percent_min | round }}%</div><span style="position: absolute;top: 0;right: -11px;border-top: 11px solid transparent;border-bottom: 11px solid transparent;border-left: 11px solid #68d391"></span></div>
  </div>
  <div class="flair-badge-wrapper flair-badge-wrapper-mobile {{ flair_css_class }}" {% if flair_css %}style="{{ flair_css }}"{% endif %}>
    <div class="flair-badge" style="display: inline-block;box-sizing: border-box;color: #ffffff;background-color: #68d391;font-size: 12px;line-height: 20px;position: relative;height: 20px;max-width: 100%;vertical-align: bottom;padding-left: 10px;margin-left: 10px;padding-right: 10px;margin-right: 10px"><span style="position: absolute;top: 0;left: -10px;border-top: 10px solid #68d391;border-bottom: 10px solid #68d391;border-left: 10px solid transparent"></span><div style="white-space: nowrap;overflow: hidden;font-weight: bold">Save {{ flair_sale_percent_min | round }}%</div><span style="position: absolute;top: 0;right: -10px;border-top: 10px solid transparent;border-bottom: 10px solid transparent;border-left: 10px solid #68d391"></span></div>
  </div>

    {% assign flair_badge_count = flair_badge_count | plus: 1 %}
  {% endif %}
{% endif %}
{% assign flair_badge_max = blank %}
{% assign flair_css = blank %}
{% assign flair_css_class = blank %}
